<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jago Hitung - Tantangan 50 Soal</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div id="game-container">
    <div id="start-screen">
        <h1>ğŸ”¢ Jago Hitung</h1>
        
        <input type="text" id="player-name" placeholder="Masukkan namamu..." autocomplete="off">
        
        <div class="mode-selector">
            <div class="input-group">
                <label for="game-mode">Operasi:</label>
                <select id="game-mode">
                    <option value="perkalian">âœ–ï¸ Perkalian</option>
                    <option value="pembagian">â— Pembagian</option>
                </select>
            </div>

            <div class="input-group">
                <label for="game-level">Level:</label>
                <select id="game-level">
                    <option value="mudah">ğŸŒ± Mudah</option>
                    <option value="sedang" selected>ğŸŒ¿ Sedang</option>
                    <option value="sulit">ğŸŒ³ Sulit</option>
                </select>
            </div>

            <div class="input-group">
                <label for="total-questions">Jumlah Soal:</label>
                <input type="number" id="total-questions" value="50" min="1" max="100" style="padding: 8px; border-radius: 8px; border: 1px solid #ddd; width: 60px; text-align: center;">
            </div>
        </div>

        <button onclick="startGame()">Mulai Bermain</button>
        <button onclick="showHistory()" style="background: var(--accent); color: var(--text); margin-top: 10px; box-shadow: 0 6px 0px #d4bc4d;">ğŸ“Š Lihat Catatan</button>
    </div>
    
    <div id="game-screen" class="hidden">
        <div id="progress-bar"><div id="progress-fill"></div></div>
        <p>Soal ke: <span id="current-count">1</span> / 50</p>
        <div class="question" id="question-text">-- x --</div>
        <input type="number" id="answer" inputmode="numeric" placeholder="Jawab..." onkeyup="checkEnter(event)">
        <button onclick="submitAnswer()">Kirim Jawaban</button>
    </div>

    <div id="result-screen" class="hidden">
        <h2>Selesai, <span id="display-name"></span>! ğŸ‰</h2>
        <div class="stats-grid">
            <div class="stat-card"><small>Benar</small><div id="final-correct" class="correct-text">0</div></div>
            <div class="stat-card"><small>Total Waktu</small><div id="final-time" class="time-text">0s</div></div>
        </div>
        
        <h3>Statistik Per Soal:</h3>
        <div id="detail-container">
            <table>
                <thead>
                    <tr><th>No</th><th>Soal</th><th>Waktu</th><th>Hasil</th></tr>
                </thead>
                <tbody id="stats-body"></tbody>
            </table>
        </div>
        <button onclick="location.reload()" class="btn-restart">Main Lagi</button>
    </div>

    <div id="history-screen" class="hidden">
        <h2>Catatan Belajar ğŸ“ˆ</h2>
        <div id="calendar-heatmap" style="background: white; padding: 15px; border-radius: 15px; margin-bottom: 20px; overflow-x: auto;">
            </div>
        <div id="history-stats" style="margin-bottom: 20px; font-size: 0.9rem;"></div>
        <button onclick="hideHistory()" class="btn-restart">Kembali</button>
    </div>
</div>

<audio id="snd-correct" src="https://assets.mixkit.co/active_storage/sfx/2000/2000-preview.mp3"></audio>
<audio id="snd-wrong" src="https://assets.mixkit.co/active_storage/sfx/2003/2003-preview.mp3"></audio>

<script src="script.js"></script>
<script src="script_history.js"></script>

</body>
</html>